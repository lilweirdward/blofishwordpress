!function(e){"use strict";var r;e.wc_square_payments={init:function(){e("#payment_method_square").length&&(r=new SqPaymentForm({env:square_params.environment,applicationId:square_params.application_id,inputClass:"sq-input",cardNumber:{elementId:"sq-card-number",placeholder:square_params.placeholder_card_number},cvv:{elementId:"sq-cvv",placeholder:square_params.placeholder_card_cvv},expirationDate:{elementId:"sq-expiration-date",placeholder:square_params.placeholder_card_expiration},postalCode:{elementId:"sq-postal-code",placeholder:square_params.placeholder_card_postal_code},callbacks:{cardNonceResponseReceived:function(r,a,o){if(r){var n="";n+='<ul class="woocommerce_error woocommerce-error">',e(r).each(function(e,r){n+="<li>"+r.message+"</li>"}),n+="</ul>",e(".payment_method_square fieldset").eq(0).prepend(n)}else{var c=e("form.checkout");c.append('<input type="hidden" class="square-nonce" name="square_nonce" value="'+a+'" />'),c.submit()}},unsupportedBrowserDetected:function(){var r="";r+='<ul class="woocommerce_error woocommerce-error">',r+="<li>"+square_params.unsupported_browser+"</li>",r+="</ul>",e(".payment_method_square fieldset").eq(0).prepend(r)}},inputStyles:[{fontSize:"1.5em",padding:"8px",backgroundColor:"#ffffff"},{mediaMaxWidth:"500px",fontSize:"1em"}]}),r.build(),e("form.checkout").on("checkout_place_order_square",function(a){return e(".payment_method_square .woocommerce-error").remove(),e("#payment_method_square").is(":checked")&&0===e("input.square-nonce").size()?(r.requestCardNonce(),!1):!0}),e(document.body).on("checkout_error",function(){e("input.square-nonce").remove()}))}},e(document.body).on("updated_checkout",function(){"object"===e.type(r)&&r.destroy(),e.wc_square_payments.init()})}(jQuery);