!function(t,i,a,n){t.fn.wc_variation_form=function(){var a=this,r=a.closest(".product"),o=parseInt(a.data("product_id"),10),s=a.data("product_variations"),d=s===!1,_=!1,c=a.find(".reset_variations");return a.unbind("check_variations update_variation_values found_variation"),a.find(".reset_variations").unbind("click"),a.find(".variations select").unbind("change focusin"),a.on("click",".reset_variations",function(){return a.find(".variations select").val("").change(),a.trigger("reset_data"),!1}).on("reload_product_variations",function(){s=a.data("product_variations"),d=s===!1}).on("reset_data",function(){var i={".sku":"o_sku",".product_weight":"o_weight",".product_dimensions":"o_dimensions"};t.each(i,function(t,i){var a=r.find(t);a.attr("data-"+i)&&a.text(a.attr("data-"+i))}),a.wc_variations_description_update(""),a.trigger("reset_image"),a.find(".single_variation_wrap").slideUp(200).trigger("hide_variation")}).on("reset_image",function(){var t=r.find("div.images img:eq(0)"),i=r.find("div.images a.zoom:eq(0)"),a=t.attr("data-o_src"),e=t.attr("data-o_srcset"),o=t.attr("data-o_sizes"),s=t.attr("data-o_title"),d=t.attr("data-o_title"),_=i.attr("data-o_href");a!==n&&t.attr("src",a),e!==n&&t.attr("srcset",e),o!==n&&t.attr("sizes",o),_!==n&&i.attr("href",_),s!==n&&(t.attr("title",s),i.attr("title",s)),d!==n&&t.attr("alt",d)}).on("change",".variations select",function(){if(a.find('input[name="variation_id"], input.variation_id').val("").change(),a.find(".wc-no-matching-variations").remove(),d){_&&_.abort();var i=!0,n=!1,e={};a.find(".variations select").each(function(){var a=t(this).data("attribute_name")||t(this).attr("name");0===t(this).val().length?i=!1:n=!0,e[a]=t(this).val()}),i?(e.product_id=o,_=t.ajax({url:wc_cart_fragments_params.wc_ajax_url.toString().replace("%%endpoint%%","get_variation"),type:"POST",data:e,success:function(t){t?(a.find('input[name="variation_id"], input.variation_id').val(t.variation_id).change(),a.trigger("found_variation",[t])):(a.trigger("reset_data"),a.find(".single_variation_wrap").after('<p class="wc-no-matching-variations woocommerce-info">'+wc_add_to_cart_variation_params.i18n_no_matching_variations_text+"</p>"),a.find(".wc-no-matching-variations").slideDown(200))}})):a.trigger("reset_data"),n?"hidden"===c.css("visibility")&&c.css("visibility","visible").hide().fadeIn():c.css("visibility","hidden")}else a.trigger("woocommerce_variation_select_change"),a.trigger("check_variations",["",!1]),t(this).blur();a.trigger("woocommerce_variation_has_changed")}).on("focusin touchstart",".variations select",function(){d||(a.trigger("woocommerce_variation_select_focusin"),a.trigger("check_variations",[t(this).data("attribute_name")||t(this).attr("name"),!0]))}).on("found_variation",function(t,i){var e=r.find("div.images img:eq(0)"),o=r.find("div.images a.zoom:eq(0)"),s=e.attr("data-o_src"),d=e.attr("data-o_srcset"),_=e.attr("data-o_sizes"),c=e.attr("data-o_title"),v=e.attr("data-o_alt"),l=o.attr("data-o_href"),f=i.image_src,u=i.image_link,g=i.image_caption,h=i.image_title;a.find(".single_variation").html(i.price_html+i.availability_html),s===n&&(s=e.attr("src")?e.attr("src"):"",e.attr("data-o_src",s)),d===n&&(d=e.attr("srcset")?e.attr("srcset"):"",e.attr("data-o_srcset",d)),_===n&&(_=e.attr("sizes")?e.attr("sizes"):"",e.attr("data-o_sizes",_)),l===n&&(l=o.attr("href")?o.attr("href"):"",o.attr("data-o_href",l)),c===n&&(c=e.attr("title")?e.attr("title"):"",e.attr("data-o_title",c)),v===n&&(v=e.attr("alt")?e.attr("alt"):"",e.attr("data-o_alt",v)),f&&f.length>1?(e.attr("src",f).attr("srcset",i.image_srcset).attr("sizes",i.image_sizes).attr("alt",h).attr("title",h),o.attr("href",u).attr("title",g)):(e.attr("src",s).attr("srcset",d).attr("sizes",_).attr("alt",v).attr("title",c),o.attr("href",l).attr("title",c));var m=a.find(".single_variation_wrap"),p=r.find(".product_meta").find(".sku"),w=r.find(".product_weight"),b=r.find(".product_dimensions");p.attr("data-o_sku")||p.attr("data-o_sku",p.text()),w.attr("data-o_weight")||w.attr("data-o_weight",w.text()),b.attr("data-o_dimensions")||b.attr("data-o_dimensions",b.text()),i.sku?p.text(i.sku):p.text(p.attr("data-o_sku")),i.weight?w.text(i.weight):w.text(w.attr("data-o_weight")),i.dimensions?b.text(i.dimensions):b.text(b.attr("data-o_dimensions"));var y=!1,q=!1;i.is_purchasable&&i.is_in_stock&&i.variation_is_visible||(q=!0),i.variation_is_visible||a.find(".single_variation").html("<p>"+wc_add_to_cart_variation_params.i18n_unavailable_text+"</p>"),""!==i.min_qty?m.find(".quantity input.qty").attr("min",i.min_qty).val(i.min_qty):m.find(".quantity input.qty").removeAttr("min"),""!==i.max_qty?m.find(".quantity input.qty").attr("max",i.max_qty):m.find(".quantity input.qty").removeAttr("max"),"yes"===i.is_sold_individually&&(m.find(".quantity input.qty").val("1"),y=!0),y?m.find(".quantity").hide():q||m.find(".quantity").show(),q?m.is(":visible")?a.find(".variations_button").slideUp(200):a.find(".variations_button").hide():m.is(":visible")?a.find(".variations_button").slideDown(200):a.find(".variations_button").show(),a.wc_variations_description_update(i.variation_description),m.slideDown(200).trigger("show_variation",[i])}).on("check_variations",function(a,n,r){if(!d){var o=!0,_=!1,c={},v=t(this),l=v.find(".reset_variations");v.find(".variations select").each(function(){var i=t(this).data("attribute_name")||t(this).attr("name");0===t(this).val().length?o=!1:_=!0,n&&i===n?(o=!1,c[i]=""):c[i]=t(this).val()});var f=e.find_matching_variations(s,c);if(o){var u=f.shift();u?(v.find('input[name="variation_id"], input.variation_id').val(u.variation_id).change(),v.trigger("found_variation",[u])):(v.find(".variations select").val(""),r||v.trigger("reset_data"),i.alert(wc_add_to_cart_variation_params.i18n_no_matching_variations_text))}else v.trigger("update_variation_values",[f]),r||v.trigger("reset_data"),n||v.find(".single_variation_wrap").slideUp(200).trigger("hide_variation");_?"hidden"===l.css("visibility")&&l.css("visibility","visible").hide().fadeIn():l.css("visibility","hidden")}}).on("update_variation_values",function(i,n){d||(a.find(".variations select").each(function(i,a){var e,r=t(a);r.data("attribute_options")||r.data("attribute_options",r.find("option:gt(0)").get()),r.find("option:gt(0)").remove(),r.append(r.data("attribute_options")),r.find("option:gt(0)").removeClass("attached"),r.find("option:gt(0)").removeClass("enabled"),r.find("option:gt(0)").removeAttr("disabled"),e="undefined"!=typeof r.data("attribute_name")?r.data("attribute_name"):r.attr("name");for(var o in n)if("undefined"!=typeof n[o]){var s=n[o].attributes;for(var d in s)if(s.hasOwnProperty(d)){var _=s[d];if(d===e){var c="";n[o].variation_is_active&&(c="enabled"),_?(_=t("<div/>").html(_).text(),_=_.replace(/'/g,"\\'"),_=_.replace(/"/g,'\\"'),r.find('option[value="'+_+'"]').addClass("attached "+c)):r.find("option:gt(0)").addClass("attached "+c)}}}r.find("option:gt(0):not(.attached)").remove(),r.find("option:gt(0):not(.enabled)").attr("disabled","disabled")}),a.trigger("woocommerce_update_variation_values"))}),a.trigger("wc_variation_form"),a};var e={find_matching_variations:function(t,i){for(var a=[],n=0;n<t.length;n++){var r=t[n];e.variations_match(r.attributes,i)&&a.push(r)}return a},variations_match:function(t,i){var a=!0;for(var e in t)if(t.hasOwnProperty(e)){var r=t[e],o=i[e];r!==n&&o!==n&&0!==r.length&&0!==o.length&&r!==o&&(a=!1)}return a}};t.fn.wc_variations_description_update=function(i){var a=this,n=a.find(".woocommerce-variation-description"),e=a.find(".single_variation_wrap");if(0===n.length)i&&(e.prepend(t('<div class="woocommerce-variation-description" style="border:1px solid transparent;">'+i+"</div>").hide()),e.is(":visible")?a.find(".woocommerce-variation-description").slideDown(200):a.find(".woocommerce-variation-description").show());else{var r=n.outerHeight(!0),o=0,s=!1;n.css("height",r),n.html(i),n.css("height","auto"),o=n.outerHeight(!0),Math.abs(o-r)>1&&(s=!0,n.css("height",r)),s&&n.animate({height:o},{duration:200,queue:!1,always:function(){n.css({height:"auto"})}})}},t(function(){"undefined"!=typeof wc_add_to_cart_variation_params&&t(".variations_form").each(function(){t(this).wc_variation_form().find(".variations select:eq(0)").change()})})}(jQuery,window,document);